.page-header
  %h1= t('.index_header')

%table{:class => "table table-striped"}
  - if !signed_in?
    .pagination-centered
      %h5
        = t('.need_authorization')
        = link_to t('.authorization'), new_session_path
        = t('.slash')
        = link_to t('.registration'), new_user_path

  - @course.each do |n|
    - if n.allowed? && n.published?
      %tr
        %td
          %p
            = link_to n.name, course_path(n), class: 'btn btn-link'
          %p{:class => "small"}
            %span{:class => "label notice"}= n.note
        %td
          - if signed_in?
            - if current_user.courses.include?(n)
              = simple_form_for n, url: unscribe_course_user_path do |f|
                = f.input :id, :as => :hidden
                = f.button :submit, value: t('.unscribe'),  class: 'btn btn-danger pull-right', :confirm => t(".unscribe_confirm")
            - else
              = simple_form_for n, url: subscribe_course_user_path do |f|
                = f.input :id, :as => :hidden
                = f.button :submit, value: t('.subscribe'),  class: 'btn btn-info pull-right', :confirm => t(".subscribe_confirm")
          - else 
            = link_to t('.subscribe'), '#', class: 'btn btn-info pull-right disabled'

.pagination
  = paginate @course
